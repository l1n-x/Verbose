# -*- coding: ut-8 -*-
<OneLine@BoxLayout>:
    size_hint: 1, None
    height: dp(2)
    canvas:
        Color:
            rgba: app.theme_cls.divider_color
        Rectangle:
            size: self.size
            pos: self.pos

<SettingsScreen>:
    name: 'settings'

    BoxLayout:
        orientation: 'vertical'
        spacing: dp(5), dp(5)
        padding: dp(5), dp(5), dp(5), 0
        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                MDLabel:
                    size_hint_y: None
                    text: "Тема: Темная" if app.theme_cls.theme_style == 'Dark' else "Тема: Светлая"
                    theme_text_color: 'Primary'
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(15)
                    padding: 0,dp(5),0,dp(5)
                    MDFillRoundFlatButton:
                        text: "Тёмная"
                        size_hint_x: None
                        size: self.size
                        on_press: 
                            app.theme_cls.theme_style = "Dark"
                            app.theme(app.theme_cls.theme_style)
                    MDFillRoundFlatButton:
                        text: "Светлая"
                        size_hint_x: None
                        size: self.size
                        on_press: 
                            app.theme_cls.theme_style = "Light"
                            app.theme(app.theme_cls.theme_style)
                MDFillRoundFlatButton:
                    text: "Выйти"
                    size_hint_x: None
                    size: self.size
                    on_press: 
                        app.manager.current = 'login'

        BoxLayout:
            height: self.minimum_height
            pos_hint: {'center_x': .5}
            size_hint: (None, None)
            size: self.minimum_size
            top: self.height
            spacing: (dp(15), 0)
            padding: [0, 0, 0, 5]
            MDIconButton:
                icon:'account'
                theme_text_color: 'Custom'
                text_color: app.theme_cls.primary_color
                on_press: app.show_profile()
            MDIconButton:
                icon:'message'
                theme_text_color: 'Custom'
                text_color: app.theme_cls.primary_color
                on_press: app.show_dialogs()
            MDIconButton:
                icon:'settings'
                theme_text_color: 'Primary'
            MDIconButton:
                icon:'book'
                theme_text_color: 'Custom'
                text_color: app.theme_cls.primary_color
                on_press: app.show_license()
            MDIconButton:
                icon:'information'
                theme_text_color: 'Custom'
                text_color: app.theme_cls.primary_color
                on_press: app.show_about()
