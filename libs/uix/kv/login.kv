# -*- coding: ut-8 -*-
#:import MDFillRoundFlatButton kivymd.button.MDFillRoundFlatButton
#:import MDLabel kivymd.label.MDLabel
#:import MDTextFieldRound kivymd.textfields.MDTextFieldRound

<Login>:
    name: 'login'

    FloatLayout:
        canvas:
            Rectangle:
                size: self.size
                pos: self.pos
                source: 'data/images/background.png'        

    BoxLayout:
        orientation: 'vertical'
        size_hint: None, None
        size: self.minimum_size
        spacing: dp(10)
        pos_hint: {'center_x': .5, 'center_y':.5}

        Label:
            text: 'Добро пожаловать!'
            font_size: '20sp'
            bold: True
            size_hint: None, None
            pos_hint: {'center_x': .5}
            size: self.texture_size

        MDTextFieldRound:
            id: field_phone
            hint_text: 'Телефон'
            icon_right: 'phone'
            icon_type: 'right'

        MDTextFieldRound:
            id: field_password
            hint_text: 'Пароль'
            icon_right: 'key-variant'
            icon_type: 'right'
            password: True

        MDLabel:
            text: 'Забыли пароль?'
            size_hint_y: None
            height: self.texture_size[1]
            color: 1, 1, 1, 1
            halign: 'center'

        Widget:
            size_hint_y: None
            height: dp(10) 

        MDFillRoundFlatButton:
            id: btn
            text: 'Войти'
            pos_hint: {'center_x': .5}
            on_press:
                app.show_profile() if root.ids.field_password.text != '' and root.ids.field_phone.text != '' else print('Error')                

            canvas.before:
                Color:
                    rgba: 0,0,128/255,.5
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 17, 17, 17, 17
